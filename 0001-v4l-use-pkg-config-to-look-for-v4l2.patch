From 57a1d3992ce75a4a47da6dcd0eab83843750bc05 Mon Sep 17 00:00:00 2001
From: nick black <nick.black@sprezzatech.com>
Date: Thu, 13 Dec 2012 23:42:46 -0500
Subject: [PATCH 1/4] [v4l] use pkg-config to look for v4l2

---
 configure.ac | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/configure.ac b/configure.ac
index 784bae8..d905318 100644
--- a/configure.ac
+++ b/configure.ac
@@ -917,7 +917,9 @@ AC_ARG_WITH(libv4l, [  --without-libv4l        build without V4L support])
 
 have_v4l="no"
 if test "x$with_libv4l" != "xno"; then
-  AC_CHECK_HEADER(linux/videodev.h, have_v4l="yes")
+  PKG_CHECK_MODULES(V4L, libv4l2,
+    have_v4l="yes",
+    have_v4l="no  (v4l library not found)")
 fi
 
 AM_CONDITIONAL(HAVE_V4L, test "$have_v4l" = "yes")
-- 
1.8.5.3

